<header
    class="tw-max-w-lg:tw-px-4 tw-max-w-lg:tw-mr-auto tw-absolute tw-top-0 tw-z-20 tw-flex tw-h-[60px] tw-w-full tw-bg-opacity-0 tw-px-[5%] lg:tw-justify-around"
>
    <a class="tw-h-[50px] tw-w-[50px] tw-p-[4px]" href="">
        <img
            src="./assets/logo/logo_submark.png"
            alt="logo"
            class="tw-object tw-h-full tw-w-full"
        />
    </a>
    <div
        class="collapsible-header animated-collapse max-lg:tw-shadow-md"
        id="collapsed-header-items"
    >
        <div
            class="tw-flex tw-h-full tw-w-max tw-gap-5 tw-text-base max-lg:tw-mt-[30px] max-lg:tw-flex-col max-lg:tw-place-items-end max-lg:tw-gap-5 lg:tw-mx-auto lg:tw-place-items-center"
        >
            <a class="header-links" href=""> Retailers </a>
            <a class="header-links" href="#pricing"> Companies </a>
            <a class="header-links" href=""> Wholesealers </a>
            <a class="header-links" href=""> Product Solution </a>
            <a class="header-links" href=""> Contact us </a>
        </div>
        <div
            class="tw-mx-4 tw-flex tw-place-items-center tw-gap-[20px] tw-text-base max-md:tw-w-full max-md:tw-flex-col max-md:tw-place-content-center"
        >
            <!-- Theme Toggle Button -->
            <div class="theme-toggle-wrapper tw-relative tw-flex tw-items-center">
                <button id="themeToggleBtn" onclick="toggleTheme()" class="tw-bg-[#FDB51B] tw-text-black tw-rounded-full tw-px-3 tw-py-1 tw-flex tw-items-center tw-gap-2">
                    <span id="modeText">Dark Mode</span>
                    <svg id="darkIcon" xmlns="http://www.w3.org/2000/svg" class="mode-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="lightIcon" xmlns="http://www.w3.org/2000/svg" class="mode-icon tw-hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
            
            <a
                href=""
                aria-label="signup"
                class="tw-rounded-full tw-bg-[#FDB51B] tw-px-3 tw-py-2 tw-text-black tw-transition-transform tw-duration-[0.3s] hover:tw-translate-x-2"
            >
                <span>Download</span>
                <i class="bi bi-download"></i>
            </a>
        </div>
    </div>
    <button
        class="bi bi-list tw-absolute tw-right-3 tw-top-3 tw-z-50 tw-text-3xl tw-text-white lg:tw-hidden"
        onclick="toggleHeader()"
        aria-label="menu"
        id="collapse-btn"
    ></button>
</header>

<script>
// Update toggle button to reflect the current theme
document.addEventListener('DOMContentLoaded', function() {
    updateThemeToggle();
});

document.addEventListener('componentsLoaded', function() {
    updateThemeToggle();
});

// Called when the DOM loads to update button appearance
function updateThemeToggle() {
    const currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';
    const modeText = document.getElementById('modeText');
    const darkIcon = document.getElementById('darkIcon');
    const lightIcon = document.getElementById('lightIcon');
    
    if (currentTheme === 'light') {
        modeText.textContent = 'Light Mode';
        darkIcon.classList.add('tw-hidden');
        lightIcon.classList.remove('tw-hidden');
    } else {
        modeText.textContent = 'Dark Mode';
        darkIcon.classList.remove('tw-hidden');
        lightIcon.classList.add('tw-hidden');
    }
}

// Global toggle theme function
window.toggleTheme = function() {
    const currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateThemeToggle();
    
    console.log(`Theme switched to ${newTheme}`);
}
</script>